SABERANGOLA - PROBLEMAS CONHECIDOS E SOLUÃ‡Ã•ES
============================================

Data de CriaÃ§Ã£o: 04/09/2025
Ãšltima AtualizaÃ§Ã£o: 04/09/2025

CRÃTICOS - REQUEREM ATENÃ‡ÃƒO IMEDIATA
===================================

1. REJEIÃ‡Ã•ES DE PROMESSAS NÃƒO TRATADAS
--------------------------------------
Problema: Logs contÃ­nuos de "unhandledrejection" a cada segundo
LocalizaÃ§Ã£o: Browser console
Status: ðŸ”„ EM INVESTIGAÃ‡ÃƒO

Sintomas:
- Logs repetitivos de unhandled promise rejection
- Objeto vazio {} como razÃ£o da rejeiÃ§Ã£o
- Ocorre aproximadamente a cada 1 segundo
- Impacta performance e debugabilidade

InvestigaÃ§Ãµes realizadas:
âœ… Adicionado error handling no useAuth hook
âœ… Configurado handlers globais em main.tsx
âœ… Melhorada configuraÃ§Ã£o do Supabase client
âŒ Origem exata ainda nÃ£o identificada

PrÃ³ximos passos:
- Implementar logging mais detalhado
- Verificar todas as calls assÃ­ncronas
- Analisar integraÃ§Ãµes com Supabase
- Considerar desabilitar auto-refresh temporariamente

Workaround temporÃ¡rio:
- Handler global previne errors no console
- AplicaÃ§Ã£o continua funcional

2. SCHEMA SUPABASE INCOMPLETO
-----------------------------
Problema: Tabelas referenciadas no cÃ³digo nÃ£o existem no banco
LocalizaÃ§Ã£o: src/components/groups/GroupMeetings.tsx
Status: âŒ CRÃTICO

Tabelas faltantes:
- group_meetings
- meeting_attendees

Erro TypeScript:
- "group_meetings" is not assignable to parameter type
- "meeting_attendees" is not assignable to parameter type
- Type instantiation is excessively deep

Impacto:
âŒ GroupMeetings component nÃ£o funciona
âŒ Sistema de reuniÃµes inoperante
âŒ 11 erros TypeScript no arquivo

SoluÃ§Ã£o necessÃ¡ria:
1. Criar schema completo no Supabase
2. Executar migraÃ§Ãµes
3. Regenerar tipos TypeScript
4. Atualizar componente conforme schema

3. CONFLITOS DE PORTA INTERMITENTES
----------------------------------
Problema: Processos anteriores mantÃªm portas ocupadas
LocalizaÃ§Ã£o: Vite (5000) e Express (3001)
Status: ðŸ”„ PARCIALMENTE RESOLVIDO

Sintomas:
- "Port 5000 is already in use"
- "Port 3001 is already in use"
- Servidor usa porta alternativa (3002)
- Requer kill manual de processos

SoluÃ§Ã£o implementada:
âœ… Auto-fallback para porta alternativa (backend)
âœ… Kill de processos via script

Melhorias necessÃ¡rias:
- Auto-cleanup no inÃ­cio
- Port detection mais robusta
- Grace shutdown melhorado

MODERADOS - IMPACTAM DESENVOLVIMENTO
===================================

4. WARNINGS DO REACT ROUTER
---------------------------
Problema: Warnings sobre futuras mudanÃ§as do React Router v7
LocalizaÃ§Ã£o: Browser console
Status: âš ï¸ INFORMATIVO

Warnings:
- React Router Future Flag Warning: v7_startTransition
- React Router Future Flag Warning: v7_relativeSplatPath

Impacto:
- NÃ£o afeta funcionalidade atual
- PreparaÃ§Ã£o necessÃ¡ria para v7
- Logs desnecessÃ¡rios durante desenvolvimento

SoluÃ§Ã£o:
- Adicionar future flags no Router configuration
- Ou aguardar migraÃ§Ã£o para v7

5. TIPOS TYPESCRIPT INCONSISTENTES
----------------------------------
Problema: Tipos gerados nÃ£o correspondem ao cÃ³digo
LocalizaÃ§Ã£o: MÃºltiplos arquivos
Status: ðŸ”„ EM ANDAMENTO

Exemplos:
- GroupMeeting interface vs database schema
- MeetingAttendee properties mismatch
- Database relations undefined

Causa raiz:
- Schema Supabase nÃ£o atualizado
- Tipos gerados automaticamente desatualizados
- Desenvolvimento ahead of database

SoluÃ§Ã£o:
1. Finalizar schema do banco
2. Regenerar tipos
3. Atualizar interfaces manualmente

6. COMPONENTE GROUPMEETINGS COM ERROS
------------------------------------
Problema: 11 erros TypeScript no componente
LocalizaÃ§Ã£o: src/components/groups/GroupMeetings.tsx
Status: âŒ BLOQUEANTE

Erros principais:
- Tabelas inexistentes no schema
- Property 'count' does not exist on type 'string'
- Type instantiation excessively deep

Funcionalidades afetadas:
âŒ CriaÃ§Ã£o de reuniÃµes
âŒ Listagem de reuniÃµes
âŒ GestÃ£o de participantes
âŒ Status de participaÃ§Ã£o

DependÃªncia:
- ResoluÃ§Ã£o do problema #2 (Schema Supabase)

MENORES - MELHORIAS FUTURAS
==========================

7. MISSING DESCRIPTION EM DIALOG
--------------------------------
Problema: Warning sobre acessibilidade
LocalizaÃ§Ã£o: DialogContent components
Status: âš ï¸ ACESSIBILIDADE

Warning:
"Missing `Description` or `aria-describedby={undefined}` for {DialogContent}"

SoluÃ§Ã£o:
- Adicionar DialogDescription onde necessÃ¡rio
- Ou aria-describedby apropriado

8. ÃCONES LUCIDE DESATUALIZADOS
------------------------------
Problema: UserQuestion icon nÃ£o existe mais
LocalizaÃ§Ã£o: MÃºltiplos componentes
Status: âœ… RESOLVIDO

ResoluÃ§Ã£o aplicada:
âœ… SubstituÃ­do UserQuestion por HelpCircle
âœ… Atualizada importaÃ§Ã£o

Nota:
- Verificar periodicamente outras icons deprecated

9. ENVIRONMENT VARIABLES EXPOSTAS
---------------------------------
Problema: Chaves visÃ­veis no cÃ³digo
LocalizaÃ§Ã£o: src/integrations/supabase/client.ts
Status: âš ï¸ SEGURANÃ‡A (DESENVOLVIMENTO)

ObservaÃ§Ã£o:
- Chaves pÃºblicas do Supabase sÃ£o seguras
- Chaves privadas nÃ£o estÃ£o expostas
- Boas prÃ¡ticas para produÃ§Ã£o necessÃ¡rias

10. PERFORMANCE NÃƒO OTIMIZADA
----------------------------
Problema: OtimizaÃ§Ãµes bÃ¡sicas faltando
LocalizaÃ§Ã£o: AplicaÃ§Ã£o geral
Status: ðŸ”„ FUTURO

Ãreas para melhoria:
- Bundle analysis
- Image optimization
- Service worker
- Lazy loading mais agressivo
- Code splitting mais granular

11. LOGS EXCESSIVOS EM DESENVOLVIMENTO
-------------------------------------
Problema: Muitos logs durante desenvolvimento
LocalizaÃ§Ã£o: Console do servidor
Status: âš ï¸ INFORMATIVO

Logs frequentes:
- Todas as requisiÃ§Ãµes HTTP
- Auth state changes
- Dotenv injections

SoluÃ§Ã£o:
- Log levels configurÃ¡veis
- Ambiente-specific logging
- Structured logging

SOLUÃ‡Ã•ES EM ANDAMENTO
====================

CURTO PRAZO (1-2 semanas):
1. âœ… Resolver conflitos de porta definitivamente
2. ðŸ”„ Investigar origem das promise rejections
3. âŒ Implementar schema completo do Supabase
4. âŒ Corrigir componente GroupMeetings

MÃ‰DIO PRAZO (1 mÃªs):
1. OtimizaÃ§Ãµes de performance
2. Testes automatizados
3. Logging estruturado
4. Security headers

LONGO PRAZO (2-3 meses):
1. Migration para React Router v7
2. Performance monitoring
3. Error tracking service
4. Comprehensive testing suite

WORKAROUNDS TEMPORÃRIOS
======================

Para desenvolvimento contÃ­nuo:
âœ… Promise rejections nÃ£o impedem funcionamento
âœ… Porta alternativa funciona para backend
âœ… Componentes principais funcionais
âœ… AutenticaÃ§Ã£o estÃ¡vel

Comandos Ãºteis para debugging:
- pkill -f "vite|tsx|node" (limpar processos)
- npm run dev (restart completo)
- Browser DevTools > Console (monitor errors)
- Network tab (verificar requests)

MONITORAMENTO
============

Arquivos para observar:
- Browser console (promise rejections)
- Terminal do servidor (port conflicts)
- TypeScript errors (VS Code problems panel)
- Network requests (DevTools)

MÃ©tricas a acompanhar:
- Tempo de startup
- FrequÃªncia de errors
- Performance de queries
- Bundle size growth